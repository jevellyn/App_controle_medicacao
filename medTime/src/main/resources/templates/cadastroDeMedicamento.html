<!doctype html>
<html lang="]">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Cadastrar Medicamento</title>
</head>
<body>
    <button onclick="voltarHome()">Voltar</button>
    <h2>Cadastro de Medicamento</h2>

    <form action="/cadastrarMedicamento" method="post">
        <label for="nome">Nome do Medicamento:</label>
        <input type="text" id="nome" name="nome" required><br><br>

        <label for="descricao">Descrição:</label>
        <textarea id="descricao" name="descricao" rows="3" required></textarea><br><br>

        <label for="periodo">Período de Uso (em dias):</label>
        <input type="number" id="periodo" name="duracao" min="0" required><br><br>

        <label for="dosagem_comprimidos">Dosagem (em comprimidos):</label>
        <input type="number" id="dosagem_comprimidos" name="dosagem" min="0" required><br><br>

        <label for="frequencia">Frequência (vezes ao dia):</label>
        <input type="number" id="frequencia" name="frequencia" min="0" required><br><br>

        <label for="horario">Horário</label>
        <input type="time" id="horario" name="horario" required><br><br>

        <button type="submit">Cadastrar Medicamento</button>
    </form>

    <!-- Pop-up de confirmação -->
    <div th:if="${cadastroMedicamentoSucesso}" id="popup-confirmacao">
        <p>Medicamento cadastrado com sucesso! Deseja cadastrar outro?</p>
        <button onclick="cadastrarOutro()">Sim</button>
        <button onclick="voltarHome()">Não</button>
    </div>

    <script>
        function cadastrarOutro() {
            // Esconde o pop-up e reseta os campos
            document.getElementById("popup-confirmacao").style.display = 'none';
            document.querySelector('form').reset();
        }
        function voltarHome() {
            // Redireciona para a tela de home
            window.location.href = "/home";
        }
    </script>

</body>
</html>